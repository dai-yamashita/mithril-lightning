<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MLD - Forms</title>

  <link href="/assets/styles/salesforce-lightning-design-system.min.css" rel="stylesheet">
  <link href="styles/style.css" rel="stylesheet">
</head>
<body>

<div id="app">

</div>

<script src="mithril.js"></script>
<script src="icons.js"></script>
<script src="form.js"></script>
<script src="faker.min.js"></script>
<script src="helpers.js"></script>

<script>

  var inputTest = m.prop("Change label");
  var textareaTest = m.prop("Text test.");
  var radioTest = m.prop("None");
  var radioGroupTest = m.prop("None");
  var radioItens = [
    {
      label: "One",
      value: "radio-one"
    },
    {
      label: "Two",
      value: "radio-two"
    },
    {
      label: "Three",
      value: "radio-three"
    },
    {
      label: "Four",
      value: "radio-four"
    }
  ];
  var checkboxTest = m.prop(false);

  m.mount(document.getElementById("app"), {
    view: function () {
      return m(".navigation"),
        m("main", [
          m(".masthead", [
            m("h1.", "Forms"),
          ]),
          m(".content", [
            m("section", [
              m("h2.slds-m-bottom--medium.desc", "Input"),
              form.input({
                label: "Label: " + inputTest(),
                input: {
                  oninput: m.withAttr("value", inputTest),
                  value: inputTest(),
                  placeholder: "Some Placeholder"
                }
              })
            ]),
            m("hr"),
            m("section", [
              m("h2.slds-m-bottom--medium.desc", "Textarea"),
              form.textarea({
                label: "Textarea label",
                textarea: {
                  oninput: m.withAttr("value", textareaTest),
                  value: textareaTest(),
                  placeholder: "Some Placeholder"
                }
              }),
              m("p.slds-p-top--medium", textareaTest())
            ]),
            m("hr"),
            m("section", [
              m("h2.slds-m-bottom--medium.desc", "Radio"),
              form.radio({
                label: "Radio label: " + radioTest,
                name: "radioTest",
                onclick: m.withAttr("value", radioTest),
                itens: radioItens
              })
            ]),
            m("hr"),
            m("section", [
              m("h2.slds-m-bottom--medium.desc", "Radio Group"),
              form.radioGroup({
                label: "Radio Group label: " + radioGroupTest,
                name: "radioGroupTest",
                onclick: m.withAttr("value", radioGroupTest),
                itens: radioItens
              })
            ]),
            m("hr"),
            m("section", [
              m("h2.slds-m-bottom--medium.desc", "Checkbox"),
              form.checkbox({
                label: "Is checked: " + checkboxTest,
                name: "checkboxTest",
                // TODO: fix checkbox click
                checkbox: {
                  name: "checkboxTest",
                  checked: checkboxTest(),
                  onchange: m.withAttr("checked", checkboxTest)
                }
              })
            ])
          ])
        ])
    }
  });

</script>

</body>
</html>